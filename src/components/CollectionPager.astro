---
const baseUrl = import.meta.env.BASE_URL;

const { collectionMap, urlStem, activeKey } = Astro.props;
---

<ol>
  {
    [...collectionMap.entries()].sort().map(([k]) => {
      const key = k.toLowerCase().replace("/", "_");
      return (
        <li>
          <a
            href={`${baseUrl}${urlStem}${key}/`}
            class={key === activeKey ? "active" : null}
          >
            {k}
          </a>
        </li>
      );
    })
  }
</ol>

<style>
  ol {
    align-items: center;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    list-style: none;
    width: 100%;
  }

  a {
    font-variant: all-small-caps;
    font-size: 1.25em;
    line-height: 1;
    padding: 0 0.4em 0.2em;
    text-decoration: none;

    &:hover,
    &.active {
      border-bottom: 1px solid currentColor;
      border-top: 1px solid currentColor;
      color: var(--envy);
    }
  }
</style>
